<html>
	<head>  
		<meta charset="utf-8">
		<title>Randy Ryan</title>
        <link rel="stylesheet" href="../styles.css">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
	</head>

	<body>
        <nav class="navigationHome">
            <ul>
                <li><a href="../AboutPage/about.html"id = "about" class = "shadow" >About Me</a></li>
            	<li><a href="../ResumePage/resume.html"id = "home" class = "shadow">Resume</a></li>   
            	<li><a href="../ProjectPage/project.html" id ="project" class = "shadow">Projects</a></li>  
            	<li><a href="../VideosPage/videos.html" id ="videos" class = "shadow">Lacrosse</a></li>
                <li><a href="../ContactPage/contact.html"id = "home" class = "shadow" style="background-color:lightgray;">Contact</a></li>

            </ul>
        </nav>
	</body>
    <br>
    <h2>Send me an email using the form below!</h2>
		<br>

<!DOCTYPE html>
<html>
<head>
    <title>Contact Form</title>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/emailjs-com@2/dist/email.min.js"></script>
    <script type="text/javascript">
        (function() {
            // https://dashboard.emailjs.com/admin/integration
            emailjs.init('user_RCdJWte3RUWVWuhhZzdJW');
        })();
    </script>
    <script type="text/javascript">

	//function to check if input field is blank
function isBlank(inputField) {
    //checks for empty checkbox
    if (inputField.type === "checkbox") {
	    if(inputField.checked){
	        return false;
        }
        else{
	        return true;
        }
    }
    //checks for empty input fields
    if (inputField.value === "" ) {
	    return true;
    }
    else{
        return false;
    }
}
//function to make the input fields red
function makeRed(inputDiv) {
    //input field set to red
   	inputDiv.style.backgroundColor = "#c80815";
}

//function to reset the input fields to normal
function makeClean(inputDiv){
    //text set to black
	inputDiv.parentNode.style.color = "#000000";
    //text field set to white	
    inputDiv.style.backgroundColor = "#FFFFFF";	

}


        window.onload = function() {

    var mainForm = document.getElementById("contact-form");
	document.getElementById('message').addEventListener('keydown', function(e) {
  if (e.key == 'Tab') {
    e.preventDefault();
    var start = this.selectionStart;
    var end = this.selectionEnd;

    // set textarea value to: text before caret + tab + text after caret
    this.value = this.value.substring(0, start) +
      "\t" + this.value.substring(end);

    // put caret at right position again
    this.selectionStart =
      this.selectionEnd = start + 1;
  }
});
    mainForm.onsubmit = function(e){
        //error2 var needed for when first submission is invalid
        e.preventDefault();
        //but second submission is correct
        var error = false;
        var error2 = false;
        //initialize inputs variable from all inputs with class "required"
        var requiredInputs = document.querySelectorAll(".required");
        for (var i=0; i < requiredInputs.length; i++){
            error = false;
            console.log(requiredInputs[0].value + "   " + requiredInputs[1].value);
            //if blank input, prevent form submission
            //make input fields red and set error to true
            if(isBlank(requiredInputs[i])){
            e.preventDefault();
            makeRed(requiredInputs[i]);
            error = true;
            error2 = true;
            }
            //make input field normal if no error
            //usage when first case is error, but second is not
            if (error == false){
                makeClean(requiredInputs[i]);
            }   
        }
        if (error2 == false){
            //no input errors, should create a post/send me an email
                // these IDs from the previous steps
                emailjs.sendForm('contact_service', 'contact_form', this)
                    .then(function() {
						document.getElementById("contact-form").reset();
                        alert('Email successfully sent!');
                    }, function(error) {
						alert('Failed to send email, please try again!');
                        console.log('FAILED...', error);
                    });
            }
        }
    }

    </script>
</head>
<body>
	<div id = "emailForm" class="shadow">
		<h2>
    <form id="contact-form">
		<br>
        <label>Name</label><br>
        <input type="text"id = "name" onclick="makeClean(document.getElementById('name'))"name="user_name" class = "required" style = "width: 50%; height: 35px; border: 2px solid black;"><br><br>
        <label>Email</label><br>
        <input type="email" id = "email" onclick="makeClean(document.getElementById('email'))"name="user_email" class = "required" style = "width: 50%; height: 35px; border: 2px solid black;"><br><br>
        <label>Message</label><br>
        <textarea name="message" id = "message" onclick="makeClean(document.getElementById('message'))"class = "required" style = "width: 75%;  height: 12%; border: 3px solid black;"></textarea><br><br><br>
        <input type="submit" value="SEND" style = "width: 30%; background-color: black; color: white; font-size: 100%; border-radius: 12px; ">
    </form>
</h2>
</div>
</body>
</html>

<div class="container">
    <div class="carousel">
      <div class="carousel__face"><span></span></div>
      <div class="carousel__face"><span></span></div>
      <div class="carousel__face"><span></span></div>
      <div class="carousel__face"><span></span></div>
      <div class="carousel__face"><span></span></div>
      <div class="carousel__face"><span></span></div>
      <div class="carousel__face"><span></span></div>
      <div class="carousel__face"><span></span></div>
      <div class="carousel__face"><span></span></div>
    </div>
  </div>


<br><br><br><br><br><br><br><br><br><br><br><br>
<br><br><br><br><br><br><br><br><br><br><br><br>
<br><br><br>

    <header>
        <br><br>
        <h1 style="font-size: 200%;">Randall S. Ryan  (c) 908-864-3147  (e) Ryanr4@wit.edu </h1>
<br><br>
    </header>
  
</html>
